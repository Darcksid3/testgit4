<form method="post" action="reservation" id="Form_create_reservation">
    <fieldset>
        <legend>Création d'une réservation</legend>
        <div class="form">
            <p>
                <label for="short">Short</label>
                <input type="radio" name="size" id="short" value="short" />
                <label for="long">Long</label>
                <input type="radio" name="size" id="long" value="long" />
            </p>
            <p>
                <label for="catwayNumber">Numero du catway: 2</label>
                <select id="catwayNumber" name="catwayNumber">
                </select required >                
            </p>
            <p>
                <label for="clientName">Nom: Michel !</label>
                <input type="text" name="clientName" id="clientName" placeholder="Le nom !" value="Michel" required />
            </p>
            <p>
                <label for="boatName">Nom du bateau: L'alizée</label>
                <input type="text" name="boatName" id="boatName" placeholder="Le nom du bateau !" value="L'alizée" required />
            </p>
            <p id="p-startDate"></p>
            <p id="p-endDate"></p>
            <p>
                <button type="submit">Ajouter</button>
            </p>
        </div>
    </fieldset>
</form>
<script>
    //remplisage du select de numéro de catway dispo
    //créé un bouton radio pour sélectionner la taille du catway et crée une liste en fonction du radio choisit
    const short = [1,2,3,4,6,7,8,11,12,13,14,16,17,18,19,21,22,23,24];
    const long = [5,9,10,15,20];
    const selectElement = document.querySelector('select')
    function selectOpt(array) {
        for (let i = 0; i < array.length; i++) {
        const optionElement =  document.createElement('option');
        optionElement.innerText=array[i]
        optionElement.setAttribute('value', array[i])
        selectElement.appendChild(optionElement)
        }
    };
    
    if (document.querySelector('input[name="size"]')) {
        document.querySelectorAll('input[name="size"]').forEach((elem) => {
            elem.addEventListener("change", function(event) {
            let item = event.target.value;
            console.log(item);
            if (item === 'short') {
                selectElement.options.length=0;
                selectOpt(short)
            
            } else { 
                selectElement.options.length=0;
                selectOpt(long)
            }
        });
    });
    };
    //BONUS
    //récupéré les numéro de catway déja réservé et les mettre sur disabled et en couleur rouge
    //mettre ceux disponible en vert 
    //si tout est réservé notifier que tout les emplacement sont pris
    
    //mise en place des champ de dates personalisé
    // récupération des champs
    const pStartDateElement = document.getElementById('p-startDate')
    const pEndtDateElement = document.getElementById('p-endDate')
    
    //définition des minimales
    const dte = new Date();
    
    let minYear = new Intl.DateTimeFormat("fr-FR", {year:"numeric"})
    minYear = minYear.format(dte)
    
    let minMonth = new Intl.DateTimeFormat("fr-FR", {month:"numeric"})
    minMonth = minMonth.format(dte)
    if(minMonth < 10){ minMonth = '0' + minMonth } // si inferrieur a 10 ajoute un 0 pour etre au format
    
    let minDay = new Intl.DateTimeFormat("fr-FR", {day:"numeric"})
    minDay = minDay.format(dte)
    if(minDay < 10){ minDay = '0' + minDay } // si inferrieur a 10 ajoute un 0 pour etre au format
    
    let minDate = `${minYear}-${minMonth}-${minDay}`
    // injexion dans les champs
    pStartDateElement.innerHTML = `
        <label for="startDate">Date de début</label>
        <input type="date" name="startDate" id="startDate" min="${minDate}" value="${minDate}" required/>
        `
    pEndtDateElement.innerHTML= `
        <label for="endDate">Date de fin</label>
        <input type="date" name="endDate" id="endDate" min="${minDate}" value="${minDate}" required />
        `
</script>